import{a as d,y as t}from"./index-sOSDVVu7.js";const l=async(a,e,o,c)=>{const n={user_nome:a,user_email:e,user_pass:o};try{const r=await d.post("https://87fe00a49264.ngrok-free.app/ecommerce/cadastro",n);r.data.error?t.error(r.data.error):c("/login")}catch(r){throw t.error("Erro na requisição de cadastro: "+r.message),new Error("Erro na requisição de cadastro: "+r.message)}},g=async(a,e,o,c)=>{const n={user_email:a,user_pass:e};try{const r=await d.post("https://87fe00a49264.ngrok-free.app/ecommerce/login",n);r.data.error?t.error(r.data.error||"Erro ao logar"):(c(r.data.result),o("/minha-conta"))}catch(r){throw t.error("Erro na requisição de login: "+r.message),new Error("Erro na requisição de login: "+r.message)}},f=async()=>{const a="ecommerce_fotos",e=Math.floor(Date.now()/1e3);try{return{...(await d.post("https://87fe00a49264.ngrok-free.app/ecommerce/cloudinary-signature",{timestamp:e,folder:a})).data,folder:a}}catch(o){return console.error("Erro ao obter assinatura do servidor",o),null}},h=async(a,e)=>{const o=await d.post("https://api.cloudinary.com/v1_1/dub80scyn/image/upload",a,{headers:{"Content-Type":"multipart/form-data"}});o.data.secure_url?e.push({foto:o.data.secure_url}):console.error("Erro ao fazer upload da imagem",o.data)},_=async(a,e,o,c,n,r,p,u)=>{const i={produto_nome:a,produto_preco:e,produto_lancamento:o,produto_categoria:c,produto_foto:n,produto_cor:r};try{const s=await d.post("https://87fe00a49264.ngrok-free.app/ecommerce/cad-produto",i,{headers:{Authorization:`Bearer ${u}`}});s.data.error?t.error(s.data.error||"Erro ao cadastrar produto"):(p(s.data.result),t.success("Produto cadastrado com sucesso!"))}catch(s){throw t.error("Erro na requisição de cadastro do produto: "+s.message),new Error("Erro na requisição de cadastro do produto: "+s.message)}};export{g as a,_ as b,f as c,h as d,l as p};
