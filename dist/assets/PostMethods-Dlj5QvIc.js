import{h as n,a as m}from"./GlobalMethod-CF9y8IGC.js";import{y as s}from"./index-BKEgOQDp.js";const g=async(a,e,r,d)=>{const t={user_nome:a,user_email:e,user_pass:r};try{const o=await n.post("/cadastro",t);o.data.error?s.error(o.data.error):d("/login")}catch(o){throw s.error("Erro na requisição de cadastro: "+o.message),new Error("Erro na requisição de cadastro: "+o.message)}},h=async(a,e,r,d)=>{const t={user_email:a,user_pass:e};try{const o=await n.post("/login",t);o.data.error?s.error(o.data.error||"Erro ao logar"):(d(o.data.result),r("/minha-conta"))}catch(o){throw s.error("Erro na requisição de login: "+o.message),new Error("Erro na requisição de login: "+o.message)}},_=async()=>{const a="ecommerce_fotos",e=Math.floor(Date.now()/1e3);try{return{...(await n.post("/cloudinary-signature",{timestamp:e,folder:a})).data,folder:a}}catch(r){return console.error("Erro ao obter assinatura do servidor",r),null}},y=async(a,e)=>{const r=await m.post("https://api.cloudinary.com/v1_1/dub80scyn/image/upload",a,{headers:{"Content-Type":"multipart/form-data"}});r.data.secure_url?e.push({foto:r.data.secure_url}):console.error("Erro ao fazer upload da imagem",r.data)},E=async(a,e,r,d,t,o,u,i)=>{const p={produto_nome:a,produto_preco:e,produto_lancamento:r,produto_categoria:d,produto_foto:t,produto_cor:o};try{const c=await n.post("/cad-produto",p,{headers:{Authorization:`Bearer ${i}`}});c.data.error?s.error(c.data.error||"Erro ao cadastrar produto"):(u(c.data.result),s.success("Produto cadastrado com sucesso!"))}catch(c){throw s.error("Erro na requisição de cadastro do produto: "+c.message),new Error("Erro na requisição de cadastro do produto: "+c.message)}},w=async(a,e,r)=>{const d={oferta_ativo:!0,oferta_novo_preco:e,produto_id:a};try{const t=await n.post(`/offer-produto/${a}`,d,{headers:{Authorization:`Bearer ${r}`}});t.data.error?s.error(t.data.error):s.success("Produto ofertado com sucesso!")}catch(t){throw s.error("Erro na requisição de ofertar o produto: "+t.message),new Error("Erro na requisição de ofertar o produto: "+t.message)}};export{h as a,w as b,_ as c,y as d,E as e,g as p};
